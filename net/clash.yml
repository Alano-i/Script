# è¯´æ˜ï¼šåªéœ€è¦ä¿®æ”¹ç¬¬56å’Œ60è¡Œï¼ˆproxy-providerséƒ¨åˆ†ï¼‰
########################################## åŸºç¡€è®¾ç½® ##########################################
mixed-port: 7890
redir-port: 7892
tproxy-port: 1536
allow-lan: true
mode: Rule
ipv6: false
geodata-mode: true
geodata-loader: standard
geox-url:
  geosite: https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat
  mmdb: https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip-lite.metadb
  geoip: https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip-lite.dat
  asn: https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/GeoLite2-ASN.mmdb
geo-auto-update: true
geo-update-interval: 24
unified-delay: true
tcp-concurrent: true
log-level: info
find-process-mode: always
global-client-fingerprint: chrome
external-controller: 0.0.0.0:9090
# é¢æ¿é»˜è®¤ Meta å¯é€‰ Yacd / Zash é‡å¯æ¨¡å—å³å¯åŠ è½½
external-ui: /data/adb/box_bll/panel/Zash/
secret: ""


########################################## å¥åº·æ£€æŸ¥ ##########################################
p: &p
  type: http
  interval: 86400
  health-check:
    enable: true
    url: https://www.gstatic.com/generate_204
    interval: 300


########################################## è®¢é˜…åœ°å€ç›¸å…³ ##########################################
A: &A
  filter: "^(?!.*(å¥—é¤|é‡ç½®|å‰©ä½™|åˆ°æœŸ|è®¢é˜…|ç¾¤|è´¦æˆ·|æµé‡|æœ‰æ•ˆæœŸ|æ—¶é—´|å®˜ç½‘)).*$"
  use:
  - 1.è‡ªå»ºæœºåœº


All: &All
  type: url-test
  use:
  - 1.è‡ªå»ºæœºåœº
  - 2.å›å®¶èŠ‚ç‚¹


proxy-providers:  #  æ­¤å‡½æ•°ä½ç½®è¯·å‹¿å˜åŠ¨ï¼æ­¤ä¸ºæ¨¡å—æ›´æ–°æ—¶å¤‡ä»½æ¢å¤è®¢é˜…å˜é‡èŒƒå›´   
  1.è‡ªå»ºæœºåœº:
    <<: *p
    url: https://xxxx.com/2cXayx1w/download/dby
  
  2.å›å®¶èŠ‚ç‚¹:
    <<: *p
    url: https://xxxx.com/2cXayx1w/download/backhome
    
    
########################################## å—…æ¢æ¨¡å— ##########################################
sniffer:
  enable: true
  force-dns-mapping: true
  parse-pure-ip: true
  override-destination: true
  sniff:
    HTTP:
      ports: [80, 8080-8880]
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  force-domain:
    - "+.v2ex.com"
  skip-domain:
    - "Mijia Cloud"


########################################## ç½‘å¡æ¨¡å— ##########################################
tun:
  enable: true
  device: meta
  stack: gvisor
  dns-hijack:
    - any:53
    - tcp://any:53
  udp-timeout: 300
  auto-route: true
  strict-route: true
  auto-redirect: false
  auto-detect-interface: true
  route-exclude-address:
  # - 192.168.0.0/16
  - fc00::/7
  exclude-package: # æ¸¸æˆå¡é¡¿å¯æ·»åŠ åŒ…å ä»…Android
    #- com.tencent.tmgp.sgame

########################################## DNSæ¨¡å— ##########################################
dns:
  enable: true
  prefer-h3: true
  ipv6: true
  listen: 0.0.0.0:1053
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.0/15
  fake-ip-filter:
    - "*"
    - "+.lan"
    - "connect.rom.miui.com"
    - "localhost.ptlogin2.qq.com"
    - "+.market.xiaomi.com"
  direct-nameserver:
    - 119.29.29.29
    - 1.12.12.12
    - 223.5.5.5
    - 223.6.6.6
  proxy-server-nameserver:
    - 119.29.29.29
    - 1.12.12.12
    - 223.5.5.5
    - 223.6.6.6


proxies:
  - {name: ç›´è¿, type: direct, udp: true}
  - {name: æ‹’ç»è¿æ¥, type: reject}
  - {name: DNS_Hijack, type: dns}


proxy-groups:
  - name: èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - è‡ªåŠ¨é€‰æ‹©
      - æ‰‹åŠ¨é€‰æ‹©
      - æ•…éšœè½¬ç§»
      # - è´Ÿè½½å‡è¡¡
      - ç›´è¿
    <<: *A
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Airport.png


  - name: è‡ªåŠ¨é€‰æ‹©
    type: url-test
    <<: *A
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png


  - name: æ‰‹åŠ¨é€‰æ‹©
    type: select
    <<: *A
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Domestic.png


  - name: Google
    type: select
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
    <<: *A
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Google_Search.png
    
     
  - name: YouTube
    type: select
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
    <<: *A
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/YouTube.png


  - name: Apple
    type: select
    proxies:
      - ç›´è¿
      - èŠ‚ç‚¹é€‰æ‹©
    <<: *A
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple.png


  - name: iCloud
    type: select
    proxies:
      - ç›´è¿
      - èŠ‚ç‚¹é€‰æ‹©
    <<: *A
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/iCloud.png

    
  - name: Netflix
    type: select
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
    <<: *A
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Netflix.png
    
  - name: Telegram
    type: select
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
    <<: *A
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram.png

  - name: OpenAI
    type: select
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
    <<: *A
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/ChatGPT.png


  - name: Gemini
    type: select
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
    <<: *A
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/AI.png



  - name: Home
    type: url-test
    use:
      - 2.å›å®¶èŠ‚ç‚¹          
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Back.png


  - name: æ•…éšœè½¬ç§»
    type: fallback
    <<: *A
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Bypass.png


  # - name: è´Ÿè½½å‡è¡¡
  #   type: load-balance
  #   strategy: round-robin
  #   <<: *A

  # - name: DNSè§£æ
  #   type: select
  #   proxies:
  #     - èŠ‚ç‚¹é€‰æ‹©
  #   icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Area.png


  - name: å¹¿å‘Šæ‹¦æˆª
    type: select
    proxies:
      - æ‹’ç»è¿æ¥
      - ç›´è¿
      - èŠ‚ç‚¹é€‰æ‹©
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Advertising.png


  - name: æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - ç›´è¿
      - èŠ‚ç‚¹é€‰æ‹©
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Final.png


  - { name: é¦™æ¸¯èŠ‚ç‚¹, 
      type: select, 
      <<: *A, 
      filter: "(?i)(é¦™æ¸¯|HK|Hong Kong|ğŸ‡­ğŸ‡°)",
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png
    }

  - { name: æ—¥æœ¬èŠ‚ç‚¹, 
      type: select, 
      <<: *A, 
      filter: "(?i)(æ—¥æœ¬|JP|Japan|ğŸ‡¯ğŸ‡µ)",
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png
    }

  - { name: æ–°åŠ å¡èŠ‚ç‚¹, 
      type: select, 
      <<: *A, 
      filter: "(?i)(æ–°åŠ å¡|SG|Singapore|ğŸ‡¸ğŸ‡¬)",
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png
    }

  - { name: ç¾å›½èŠ‚ç‚¹, 
      type: select, 
      <<: *A, 
      filter: "(?i)(ç¾å›½|US|USA|United States|ğŸ‡ºğŸ‡¸)",
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png
    }


########################################## ä»£ç†è§„åˆ™ ##########################################
rules:
 - DST-PORT,53,DNS_Hijack
 - IP-CIDR,10.0.0.0/8,Home
 - RULE-SET,Gemini,Gemini
 - DOMAIN-SUFFIX,telegram.org,Telegram
 - DOMAIN-KEYWORD,sciencedirect,ç›´è¿
 - RULE-SET,PrivateTracker,ç›´è¿
 - RULE-SET,applications,ç›´è¿
 - RULE-SET,private,ç›´è¿
 - RULE-SET,reject,å¹¿å‘Šæ‹¦æˆª
 - RULE-SET,icloud,iCloud
 - RULE-SET,apple,Apple
 - RULE-SET,google,Google
 - RULE-SET,GoogleVoice,Google
 - RULE-SET,YouTube,YouTube
 - RULE-SET,Netflix,Netflix
 - RULE-SET,OpenAI,OpenAI
 - RULE-SET,proxy,èŠ‚ç‚¹é€‰æ‹©
 - RULE-SET,115,ç›´è¿
 - RULE-SET,direct,ç›´è¿
 - RULE-SET,lancidr,ç›´è¿
 - RULE-SET,cncidr,ç›´è¿
 - RULE-SET,telegramcidr,Telegram
 - GEOIP,LAN,ç›´è¿
 - DOMAIN-SUFFIX,cn,ç›´è¿
 - DOMAIN-KEYWORD,-cn,ç›´è¿
 - GEOIP,CN,ç›´è¿
 - MATCH,æ¼ç½‘ä¹‹é±¼


########################################## å¤–éƒ¨è§„åˆ™é›† ##########################################
rule-providers:
  PrivateTracker:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/PrivateTracker/PrivateTracker.yaml
    path: ./ruleset/PrivateTracker.yaml
    interval: 86400
  Netflix:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Netflix/Netflix.yaml
    path: ./ruleset/Netflix.yaml
    interval: 86400
  OpenAI:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/OpenAI/OpenAI.yaml
    path: ./ruleset/OpenAI.yaml
    interval: 86400
  115:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/115/115.yaml
    interval: 86400
  YouTube:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/YouTube/YouTube.yaml
    path: ./ruleset/YouTube.yaml
    interval: 86400
  reject:
    type: http
    behavior: domain
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt
    path: ./ruleset/reject.yaml
    interval: 86400
  icloud:
    type: http
    behavior: domain
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/icloud.txt
    path: ./ruleset/icloud.yaml
    interval: 86400
  apple:
    type: http
    behavior: domain
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/apple.txt
    path: ./ruleset/apple.yaml
    interval: 86400
  google:
    type: http
    behavior: domain
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/google.txt
    path: ./ruleset/google.yaml
    interval: 86400
  proxy:
    type: http
    behavior: domain
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/proxy.txt
    path: ./ruleset/proxy.yaml
    interval: 86400
  direct:
    type: http
    behavior: domain
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/direct.txt
    path: ./ruleset/direct.yaml
    interval: 86400
  private:
    type: http
    behavior: domain
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/private.txt
    path: ./ruleset/private.yaml
    interval: 86400
  gfw:
    type: http
    behavior: domain
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/gfw.txt
    path: ./ruleset/gfw.yaml
    interval: 86400
  greatfire:
    type: http
    behavior: domain
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/greatfire.txt
    path: ./ruleset/greatfire.yaml
    interval: 86400
  tld-not-cn:
    type: http
    behavior: domain
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/tld-not-cn.txt
    path: ./ruleset/tld-not-cn.yaml
    interval: 86400
  GoogleVoice:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/GoogleVoice/GoogleVoice.yaml
    path: ./ruleset/GoogleVoice.yaml
    interval: 86400
  Gemini:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Gemini/Gemini.yaml
    path: ./ruleset/Gemini.yaml
    interval: 86400    
  telegramcidr:
    type: http
    behavior: ipcidr
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/telegramcidr.txt
    path: ./ruleset/telegramcidr.yaml
    interval: 86400
  cncidr:
    type: http
    behavior: ipcidr
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/cncidr.txt
    path: ./ruleset/cncidr.yaml
    interval: 86400
  lancidr:
    type: http
    behavior: ipcidr
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt
    path: ./ruleset/lancidr.yaml
    interval: 86400
  applications:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/applications.txt
    path: ./ruleset/applications.yaml
    interval: 86400
